import{e as u,O as l,r as t,_ as x,j as e,s as h,L as c,S as j,P as f}from"./index-5cb102fc.js";import{A as P}from"./AdminSidebar-17868f19.js";import{T as b}from"./TableHOC-e08df702.js";import"./index.esm-76edac89.js";const g=[{Header:"Photo",accessor:"photo"},{Header:"Name",accessor:"name"},{Header:"Price",accessor:"price"},{Header:"Stock",accessor:"stock"},{Header:"Action",accessor:"action"}],E=()=>{const{user:r}=u(s=>s.userReducer),{isLoading:n,isError:d,error:i,data:o}=l(r==null?void 0:r._id),[a,m]=t.useState([]);if(d){const s=i;x.error(s.data.message)}t.useEffect(()=>{o&&m(o.products.map(s=>({photo:e.jsx("img",{src:`${h}/${s.photo}`}),name:s.name,price:s.price,stock:s.stock,action:e.jsx(c,{to:`/admin/product/${s._id}`,children:"Manage"})})))},[o]);const p=b(g,a,"dashboard-product-box","Products",a.length>6)();return e.jsxs("div",{className:"admin-container",children:[e.jsx(P,{}),e.jsx("main",{children:n?e.jsx(j,{length:20}):p}),e.jsx(c,{to:"/admin/product/new",className:"create-product-btn",children:e.jsx(f,{})})]})};export{E as default};
