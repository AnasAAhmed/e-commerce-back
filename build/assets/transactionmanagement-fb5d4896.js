import{e as v,a as O,o as D,C as A,a1 as T,a2 as k,j as s,N as L,L as c,D as w,S as F,s as M,d as P}from"./index-5cb102fc.js";import{A as E}from"./AdminSidebar-17868f19.js";import{r as o}from"./features-fedf4e3f.js";import"./index.esm-76edac89.js";const H={shippingInfo:{address:"",city:"",state:"",country:"",pinCode:""},status:"",subtotal:0,discount:0,shippingCharges:0,tax:0,total:0,orderItems:[],user:{name:"",_id:""},_id:""},z=()=>{const{user:t}=v(e=>e.userReducer),d=O(),a=D(),{isLoading:n,data:r,isError:l}=A(d.id),{shippingInfo:{address:p,city:h,state:u,country:m,pinCode:x},orderItems:j,user:{name:g},status:i,tax:I,subtotal:f,total:N,discount:S,shippingCharges:$}=(r==null?void 0:r.order)||H,[y]=T(),[C]=k(),_=async()=>{const e=await y({userId:t==null?void 0:t._id,orderId:r==null?void 0:r.order._id});o(e,a,"/admin/transaction")},b=async()=>{const e=await C({userId:t==null?void 0:t._id,orderId:r==null?void 0:r.order._id});o(e,a,"/admin/transaction")};return l?s.jsx(L,{to:"/404"}):s.jsxs("div",{className:"admin-container",children:[s.jsx(E,{}),s.jsxs("main",{className:"product-management",children:[s.jsx(c,{to:"/admin/transaction",children:s.jsx(w,{})}),n?s.jsx(F,{}):s.jsxs(s.Fragment,{children:[s.jsxs("section",{style:{padding:"2rem"},children:[s.jsx("h2",{children:"Order Items"}),j.map(e=>s.jsx(R,{name:e.name,photo:`${M}/${e.photo}`,productId:e.productId,_id:e._id,quantity:e.quantity,price:e.price},e._id))]}),s.jsxs("article",{className:"shipping-info-card",children:[s.jsx("button",{className:"product-delete-btn",onClick:b,children:s.jsx(P,{})}),s.jsx("h1",{children:"Order Info"}),s.jsx("h5",{children:"User Info"}),s.jsxs("p",{children:["Name: ",g]}),s.jsxs("p",{children:["Address:"," ",`${p}, ${h}, ${u}, ${m} ${x}`]}),s.jsx("h5",{children:"Amount Info"}),s.jsxs("p",{children:["Subtotal: ",f]}),s.jsxs("p",{children:["Shipping Charges: ",$]}),s.jsxs("p",{children:["Tax: ",I]}),s.jsxs("p",{children:["Discount: ",S]}),s.jsxs("p",{children:["Total: ",N]}),s.jsx("h5",{children:"Status Info"}),s.jsxs("p",{children:["Status:"," ",s.jsx("span",{className:i==="Delivered"?"purple":i==="Shipped"?"green":"red",children:i})]}),s.jsx("button",{className:"shipping-btn",onClick:_,children:"Process Status"})]})]})]})]})},R=({name:t,photo:d,price:a,quantity:n,productId:r})=>s.jsxs("div",{className:"transaction-product-card",children:[s.jsx("img",{src:d,alt:t}),s.jsx(c,{to:`/product/${r}`,children:t}),s.jsxs("span",{children:["$",a," X ",n," =$",a*n]})]});export{z as default};
