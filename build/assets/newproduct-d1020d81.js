import{e as C,r as s,Z as w,o as D,j as e}from"./index-5cb102fc.js";import{A as q}from"./AdminSidebar-17868f19.js";import{r as k}from"./features-fedf4e3f.js";import"./index.esm-76edac89.js";const H=()=>{const{user:n}=C(t=>t.userReducer),[o,m]=s.useState(""),[i,x]=s.useState(""),[c,j]=s.useState(1e3),[l,g]=s.useState(""),[u,v]=s.useState(1),[d,b]=s.useState(""),[p,S]=s.useState(),[f]=w(),y=D(),N=t=>{var h;const r=(h=t.target.files)==null?void 0:h[0],a=new FileReader;r&&(a.readAsDataURL(r),a.onloadend=()=>{typeof a.result=="string"&&(b(a.result),S(r))})},P=async t=>{if(t.preventDefault(),!o||!c||u<0||!i||!p||!l)return;const r=new FormData;r.set("name",o),r.set("price",c.toString()),r.set("description",l),r.set("stock",u.toString()),r.set("photo",p),r.set("category",i);const a=await f({id:n==null?void 0:n._id,formData:r});k(a,y,"/admin/product")};return e.jsxs("div",{className:"admin-container",children:[e.jsx(q,{}),e.jsx("main",{className:"product-management",children:e.jsx("article",{children:e.jsxs("form",{onSubmit:P,children:[e.jsx("h2",{children:"New Product"}),e.jsxs("div",{children:[e.jsx("label",{children:"Name"}),e.jsx("input",{required:!0,type:"text",placeholder:"Name",value:o,onChange:t=>m(t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Description"}),e.jsx("input",{required:!0,type:"text",placeholder:"Description",value:l,onChange:t=>g(t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Price"}),e.jsx("input",{required:!0,type:"number",placeholder:"Price",value:c,onChange:t=>j(Number(t.target.value))})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Stock"}),e.jsx("input",{required:!0,type:"number",placeholder:"Stock",value:u,onChange:t=>v(Number(t.target.value))})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Category"}),e.jsx("input",{required:!0,type:"text",placeholder:"eg. laptop, camera etc",value:i,onChange:t=>x(t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Photo"}),e.jsx("input",{required:!0,type:"file",onChange:N})]}),d&&e.jsx("img",{src:d,alt:"New Image"}),e.jsx("button",{type:"submit",children:"Create"})]})})})]})};export{H as default};
